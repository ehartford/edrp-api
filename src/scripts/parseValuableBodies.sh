#!/bin/bash
cat bodies.jsonl | jq --compact-output 'select(.terraforming_state_id >= 2 or .type_id == 26 or .type_id == 20 or .type_id == 36 ) | {id:.id,name:.name,system_id:.system_id,distance_to_arrival:.distance_to_arrival,terraforming_state_id:.terraforming_state_id,terraforming_state_name:.terraforming_state_name,type_id:.type_id,type_name:.type_name,updated_at:.updated_at,value:(if .type_id == 26 then 627885 elif .type_id == 20 then 320203 elif .terraforming_state_id > 1 and .type_id == 30 then 412249 elif .type_id == 36 and (.terraforming_state_id == null or .terraforming_state_id < 2) then 301410 elif .type_id == 36 and .terraforming_state_id > 1 then 694971 elif .type_id == 33 and .terraforming_state_id > 1 then 181104 else 0 end)}' > valuablebodies.jsonl